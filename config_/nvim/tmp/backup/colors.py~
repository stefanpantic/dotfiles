#!/bin/python

import os
import sys

COLORS = {
        'red' : '\x1b[31m',
        'green' : '\x1b[32m',
        'yellow' : '\x1b[33m',
        'blue' : '\x1b[34m',
        'bold' : '\x1b[1m',
        'none' : '\x1b[0m',
}

def list_directory_recursive(path):
    if not os.path.isdir(path):
        return

    for entry in os.listdir(path):
        entry = os.path.join(path, entry)
        if os.path.isdir(entry):
            print("\n%s==> %s%s%s:" % (COLORS['green'], COLORS['blue'], entry[entry.rfind("/") + 1:len(entry)], COLORS['none']))
            list_directory_recursive(entry)
        elif os.path.isfile(entry):
            print("\t%s%s%s" % (COLORS['yellow'], entry[entry.rfind("/") + 1:len(entry)], COLORS['none']))

def main():
    if 2 != len(sys.argv):
        print("%sInvalid command-line arguments...%s" %(COLORS['red'], COLORS['none']))
        sys.exit(1)

    if not os.path.isdir(sys.argv[1]):
        print("%s is not a directory...%s" % (COLORS['red'], COLORS['none']))

    list_directory_recursive(sys.argv[1])

if "__main__" == __name__:
    main()

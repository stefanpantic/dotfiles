--Uslov restrikcije sa pretrazivanjem po nisci karaktera


--Prikazati imena, prezimena i mesta rodjenja svih studenata ako se naziv mesta 
--njihovo rodjenja zavrsava na 'ad'
select ime, prezime, mesto_rodjenja
from   dosije
where  mesto_rodjenja like '%ad';

--Prikazati imena, prezimena i mesta rodjenja svih studenata ako mesto njihovo rodjenja 
--u svom nazivu ima 'r'
select ime, prezime, mesto_rodjenja
from   dosije
where  mesto_rodjenja like '%r%';

--Prikazati imena, prezimena i mesta rodjenja svih studenata ako je drugo slovo u 
--nazivu mesta njihovo rodjenja 'r'

select ime, prezime, mesto_rodjenja
from   dosije
where  mesto_rodjenja like '_r%';

--Unosenje novih slogova u tabelu dosijea
insert into dosije(indeks,ime,prezime,datum_rodjenja,mesto_rodjenja,datum_upisa) values
(20140028, 'Marko', 'Markovic', '01.02.1994', '_remska Mitr_vica','01.06.2014'),
(20140029, 'Marijana', 'Marjanovic', '02.03.1994', 'Srem%ka Mit%ovica','01.06.2014'),
(20140030, 'Petar', 'Petrovic', '03.04.1994', 'Srem%ka Mitr_vica','01.06.2014'),
(20140031, 'Djordje', 'Djordjevic', '04.05.1994', '_\em%ka Mitrovica','01.06.2014');

--Trenutni izgled tabele dosije
select * 
from   dosije;

--Prikazati imena, prezimena i mesta rodjenja svih studenata ako mesto njihovo rodjenja 
--u svom nazivu ima 'm%k'

--Nekorektno resenje
select ime, prezime, mesto_rodjenja 
from   dosije
where  mesto_rodjenja like '%m%k%'; 

--Korektno resenje 1
select ime, prezime, mesto_rodjenja 
from   dosije
where  mesto_rodjenja like '%m+%k%' escape '+'; 

--Korektno resenje 2
select ime, prezime, mesto_rodjenja 
from   dosije
where  mesto_rodjenja like '%m\%k%' escape '\\'; 


--Prikazati imena, prezimena i mesta rodjenja svih studenata ako mesto njihovo rodjenja 
--u svom nazivu ima '_' ili (ima 'r' ali nema '%')
select ime, prezime, mesto_rodjenja 
from   dosije
where  mesto_rodjenja like '%\_%' escape '\'
or     (mesto_rodjenja like '%r%' and mesto_rodjenja not like '%!%%' escape '!'); 


--Prikazati imena, prezimena i mesta rodjenja svih studenata ako mesto njihovo rodjenja 
--u svom nazivu nema  '%'
select ime, prezime, mesto_rodjenja 
from   dosije
where  mesto_rodjenja not like '%\%%' escape '\';




--Brisanje prethodno unetih slogova
delete from dosije
where  indeks >=20140028;
